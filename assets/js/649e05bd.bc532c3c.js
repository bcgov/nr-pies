(self.webpackChunknr_pies=self.webpackChunknr_pies||[]).push([["3489"],{27974(e,t,n){"use strict";n.r(t),n.d(t,{metadata:()=>i,default:()=>w,frontMatter:()=>j,contentTitle:()=>g,toc:()=>y,assets:()=>v});var i=JSON.parse('{"id":"spec/element/data/event","title":"Event \u{1F52C}","description":"Represents an event concept.","source":"@site/docs/spec/element/data/event.mdx","sourceDirName":"spec/element/data","slug":"/spec/element/data/event","permalink":"/nr-pies/docs/spec/element/data/event","draft":false,"unlisted":false,"editUrl":"https://github.com/bcgov/nr-pies/tree/main/docs/spec/element/data/event.mdx","tags":[{"inline":false,"label":"Developer","permalink":"/nr-pies/docs/tags/developer","description":"Content related to technical structure and implementation"}],"version":"current","lastUpdatedBy":"Jeremy Ho","lastUpdatedAt":1749689960000,"frontMatter":{"id":"event","title":"Event \u{1F52C}","description":"Represents an event concept.","tags":["developer"]},"sidebar":"docSidebar","previous":{"title":"Coding \u{1F52C}","permalink":"/nr-pies/docs/spec/element/data/coding"},"next":{"title":"Header \u{1F4DD}","permalink":"/nr-pies/docs/spec/element/data/header"}}'),s=n(74848),r=n(28453),a=n(1113),d=n(40131),o=n.n(d),l=n(78010),c=n(57250),h=n(58489),m=JSON.parse('{"start_date":"2024-12-01","end_date":"2024-12-31"}'),p=JSON.parse('{"start_date":"2024-12-01"}'),u=JSON.parse('{"start_datetime":"2024-12-01T10:00:00Z","end_datetime":"2024-12-31T10:00:00Z"}'),f=JSON.parse('{"start_datetime":"2024-12-01T10:00:00Z"}'),x=JSON.parse('{"$id":"https://raw.githubusercontent.com/bcgov/nr-pies/refs/heads/main/docs/spec/element/data/event.schema.json","$schema":"http://json-schema.org/draft-07/schema#","title":"Event","description":"Represents an event concept. It allows either a date or a datetime, but not a mix of both. One of the start properties is required, but the end properties are optional.","type":"object","properties":{"start_date":{"type":"string","description":"The start date of the event in RFC 3339 format (e.g., `2024-12-01`).","format":"date"},"start_datetime":{"type":"string","description":"The start datetime of the event in RFC 3339 format (e.g., `2024-12-01T10:00:00.0000000Z`). Only UTC time is allowed.","format":"date-time","pattern":"^\\\\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01]?[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])(\\\\.\\\\d{1,7})?Z$"},"end_date":{"type":"string","description":"The end date of the event in RFC 3339 format (e.g., `2024-12-01`). This is optional if `start_date` is used.","format":"date"},"end_datetime":{"type":"string","description":"The end datetime of the event in RFC 3339 format (e.g., `2024-12-01T10:00:00.0000000Z`). Only UTC time is allowed. This is optional if `start_datetime` is used.","format":"date-time","pattern":"^\\\\d{4}-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01])T([01]?[0-9]|2[0-3]):([0-5][0-9]):([0-5][0-9])(\\\\.\\\\d{1,7})?Z$"}},"oneOf":[{"title":"Date","description":"This schema is used when the event starts with a date (`start_date`), and optionally, an end date (`end_date`) can be specified. Mixing a start date with a datetime is not allowed.","properties":{"start_date":{"type":"string","format":"date"},"end_date":{"type":"string","format":"date"}},"required":["start_date"],"not":{"required":["start_datetime","end_datetime"]}},{"title":"DateTime","description":"This schema is used when the event starts with a datetime (`start_datetime`), and optionally, an end datetime (`end_datetime`) can be specified. Mixing a start datetime with a date is not allowed.","properties":{"start_datetime":{"type":"string","format":"date-time"},"end_datetime":{"type":"string","format":"date-time"}},"required":["start_datetime"],"not":{"required":["start_date","end_date"]}}]}');let j={id:"event",title:"Event \u{1F52C}",description:"Represents an event concept.",tags:["developer"]},g,v={},y=[{value:"Scope",id:"scope",level:2},{value:"Structure",id:"structure",level:2},{value:"Specification",id:"specification",level:2},{value:"Implementation Notes",id:"implementation-notes",level:2},{value:"Date vs DateTime Specificity",id:"date-vs-datetime-specificity",level:3},{value:"Transformation Specificity",id:"transformation-specificity",level:3},{value:"Ongoing Events",id:"ongoing-events",level:3},{value:"References",id:"references",level:2}];function b(e){let t={a:"a",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.p,{children:(0,s.jsx)(t.a,{href:"/docs/spec#maturity",children:(0,s.jsx)(t.img,{src:"https://img.shields.io/badge/Maturity-Trial-green",alt:"Maturity"})})}),"\n",(0,s.jsxs)(t.p,{children:["Official URL: ",(0,s.jsx)(t.code,{children:"https://bcgov.github.io/nr-pies/docs/spec/element/data/event"})]}),"\n",(0,s.jsxs)(t.p,{children:["JSON Schema URL: ",(0,s.jsx)(t.a,{href:"https://raw.githubusercontent.com/bcgov/nr-pies/refs/heads/main/docs/spec/element/data/event.schema.json",children:"https://raw.githubusercontent.com/bcgov/nr-pies/refs/heads/main/docs/spec/element/data/event.schema.json"})]}),"\n",(0,s.jsx)(t.p,{children:"Represents an event concept. It allows either a date or a datetime, but not a mix of both. One of the start properties is required, but the end properties are optional."}),"\n",(0,s.jsx)(t.h2,{id:"scope",children:"Scope"}),"\n",(0,s.jsxs)(t.p,{children:["This data type is intended to represent the raw known factual information a specific temporal event. The interpretation\nand context of an event will be dependent on which ",(0,s.jsx)(t.a,{href:"/docs/category/resource-types",children:"resource type"})," is using it."]}),"\n",(0,s.jsx)(t.h2,{id:"structure",children:"Structure"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["An Event shall always contain some ",(0,s.jsx)(t.code,{children:"start_*"})," attribute.","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["A valid Event shall at minimum contain either a ",(0,s.jsx)(t.code,{children:"start_date"})," or a ",(0,s.jsx)(t.code,{children:"start_datetime"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["An Event shall be defined using either ",(0,s.jsx)(t.code,{children:"date"})," or ",(0,s.jsx)(t.code,{children:"date-time"})," specificity.","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Mixed usage of ",(0,s.jsx)(t.code,{children:"date"})," and ",(0,s.jsx)(t.code,{children:"date-time is prohibited"})]}),"\n",(0,s.jsxs)(t.li,{children:["If ",(0,s.jsx)(t.code,{children:"start_date"})," is defined, an optional ",(0,s.jsx)(t.code,{children:"end_date"})," may be specified."]}),"\n",(0,s.jsxs)(t.li,{children:["If ",(0,s.jsx)(t.code,{children:"start_datetime"})," is defined, an optional ",(0,s.jsx)(t.code,{children:"end_datetime"})," may be specified."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["All Date and DateTime values shall be represented in RFC 3339 format.","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["The ",(0,s.jsx)(t.code,{children:"date"})," format is represented as ",(0,s.jsx)(t.code,{children:"YYYY-MM-DD"}),".","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["The ",(0,s.jsx)(t.code,{children:"date"})," format must contain leading padding zeroes where necessary (e.g., ",(0,s.jsx)(t.code,{children:"2024-12-01"}),")."]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["The ",(0,s.jsx)(t.code,{children:"date-time"})," format is represented as ",(0,s.jsx)(t.code,{children:"YYYY-MM-DDTHH:mm:ss.sssssssZ"}),".","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["The ",(0,s.jsx)(t.code,{children:"Z"})," at the end indicates that the time is in UTC (Coordinated Universal Time)."]}),"\n",(0,s.jsxs)(t.li,{children:["Sub-second precision is optional. (e.g., ",(0,s.jsx)(t.code,{children:"2024-12-01T10:00:00Z"}),")"]}),"\n",(0,s.jsxs)(t.li,{children:["The number of digits after the decimal point can vary from 1 to 7 (e.g., ",(0,s.jsx)(t.code,{children:"2024-12-01T10:00:00.0000000Z"}),")."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Cardinality"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Description & Constraints"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"start_date"}),(0,s.jsx)(t.td,{children:"0..1"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"string"})}),(0,s.jsxs)(t.td,{children:["The start date of the event in RFC 3339 format (e.g., ",(0,s.jsx)(t.code,{children:"2024-12-01"}),")."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"start_datetime"}),(0,s.jsx)(t.td,{children:"0..1"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"string"})}),(0,s.jsxs)(t.td,{children:["The start datetime of the event in RFC 3339 format (e.g., ",(0,s.jsx)(t.code,{children:"2024-12-01T10:00:00.0000000Z"}),"). Only UTC time is allowed."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"end_date"}),(0,s.jsx)(t.td,{children:"0..1"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"string"})}),(0,s.jsxs)(t.td,{children:["The end date of the event in RFC 3339 format (e.g., ",(0,s.jsx)(t.code,{children:"2024-12-01"}),"). This is optional if ",(0,s.jsx)(t.code,{children:"start_date"})," is used."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"end_datetime"}),(0,s.jsx)(t.td,{children:"0..1"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.code,{children:"string"})}),(0,s.jsxs)(t.td,{children:["The end datetime of the event in RFC 3339 format (e.g., ",(0,s.jsx)(t.code,{children:"2024-12-01T10:00:00.0000000Z"}),"). Only UTC time is allowed. This is optional if ",(0,s.jsx)(t.code,{children:"start_datetime"})," is used."]})]})]})]}),"\n",(0,s.jsx)(t.h2,{id:"specification",children:"Specification"}),"\n",(0,s.jsxs)(l.default,{queryString:"tab",children:[(0,s.jsx)(c.default,{value:"schema",label:"Schema",default:!0,children:(0,s.jsx)(o(),{resolverOptions:(0,h.kG)({remote:!0}),schema:x,viewerOptions:{showExamples:!0}})}),(0,s.jsx)(c.default,{value:"source",label:"Source",children:(0,s.jsx)(a.default,{language:"json",showLineNumbers:!0,children:JSON.stringify(x,null,2)})}),(0,s.jsxs)(c.default,{value:"example",label:"Examples",children:[(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Date Start"})}),(0,s.jsx)(a.default,{language:"json",showLineNumbers:!0,children:JSON.stringify(p,null,2)}),(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Date Range"})}),(0,s.jsx)(a.default,{language:"json",showLineNumbers:!0,children:JSON.stringify(m,null,2)}),(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"DateTime Start"})}),(0,s.jsx)(a.default,{language:"json",showLineNumbers:!0,children:JSON.stringify(f,null,2)}),(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"DateTime Range"})}),(0,s.jsx)(a.default,{language:"json",showLineNumbers:!0,children:JSON.stringify(u,null,2)})]})]}),"\n",(0,s.jsx)(t.h2,{id:"implementation-notes",children:"Implementation Notes"}),"\n",(0,s.jsx)(t.h3,{id:"date-vs-datetime-specificity",children:"Date vs DateTime Specificity"}),"\n",(0,s.jsx)(t.p,{children:"The Event data type supports either Date or DateTime specificity. When choosing which specificity to transmit an Event,\nconsider the intent of the transmission, and whether the time component would aid in providing meaningful context to\nthe conveyed information. We offer the following guidance:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Reporting normally uses day resolution. If you know your message is intended to be used for reporting purposes, use\nthe ",(0,s.jsx)(t.code,{children:"date"})," format over ",(0,s.jsx)(t.code,{children:"date-time"}),"."]}),"\n",(0,s.jsxs)(t.li,{children:["System logging and auditing uses should lean towards using the ",(0,s.jsx)(t.code,{children:"date-time"})," format if the time component is available."]}),"\n",(0,s.jsxs)(t.li,{children:["When the usage intent is unknown and the time component is available, use the ",(0,s.jsx)(t.code,{children:"date-time"})," format as it will contain\na higher degree of information fidelity."]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"transformation-specificity",children:"Transformation Specificity"}),"\n",(0,s.jsxs)(t.p,{children:["Conversion and inference between the ",(0,s.jsx)(t.code,{children:"date"})," and ",(0,s.jsx)(t.code,{children:"date-time"})," formats can be tricky as it is not possible to do a lossless\nbidirectional transformation between the two formats (i.e. if you drop the time from date-time, you will have a hard\ntime getting the time value back)."]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["When converting from ",(0,s.jsx)(t.code,{children:"date-time"})," to ",(0,s.jsx)(t.code,{children:"date"}),", the transformation shall account for the timezone offset.","\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"As all dates are recorded in UTC time, it is not sufficient to simply truncate the time portion."}),"\n",(0,s.jsx)(t.li,{children:"Use the local time of the system where it is operating at as a frame of reference."}),"\n",(0,s.jsx)(t.li,{children:"For most situations, anticipate using either Pacific Daylight Time (PDT) or Pacific Standard Time (PST)."}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(t.li,{children:["We advise against converting between ",(0,s.jsx)(t.code,{children:"date"})," and ",(0,s.jsx)(t.code,{children:"date-time"})," as assumptions for the time component would be necessary."]}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"ongoing-events",children:"Ongoing Events"}),"\n",(0,s.jsx)(t.p,{children:"The Event data type only supports representing a specific moment with just a start, or a finite duration with a start\nand an end. Event does not support conveying an ongoing event (e.g. there exists a start date, but no end date is\nprovided because it is still current or ongoing). This is because the message specification needs to support\nasynchronous communication workloads; it may be possible for an ongoing event to no longer hold true by the time the\nmessage has been parsed by the recipient system."}),"\n",(0,s.jsx)(t.p,{children:'While inferences may be made about values that only have the start defined, they should not be interpreted when\nhandling their values, and should instead be used "at face value" to describe only the specific moment when a start\noccurs.'}),"\n",(0,s.jsx)(t.h2,{id:"references",children:"References"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://www.iso.org/iso-8601-date-and-time-format.html",children:"ISO 8601"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://datatracker.ietf.org/doc/html/rfc3339",children:"RFC 3339"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://en.wikipedia.org/wiki/Unix_time",children:"Unix / Epoch Time"})}),"\n"]})]})}function w(e={}){let{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(b,{...e})}):b(e)}},60749(e){function t(e){return Promise.resolve().then(function(){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=()=>[],t.resolve=t,t.id=60749,e.exports=t},58489(e,t,n){"use strict";function i(e="http"){return{resolve:e=>new Promise((t,n)=>{fetch(e.toString(),{headers:{Accept:"application/json"}}).then(e=>e.json()).then(e=>t(e)).catch(e=>n(e))})}}function s(e){let{basePath:t,jsonPointer:s,remote:r}=e,a={};return t&&(a.resolvers={file:function(e=""){return{resolve:t=>new Promise((i,s)=>{let r=function(e,t=""){let n=e.toString().split("/"),i=t;for(let e=0;e<n.length;e++)if(".."===n[e])i=i.split("/").slice(0,-1).join("/");else{if("."===n[e])continue;i=`${i}/${n[e]}`}return i}(t,e);n(60749)(`./${r.substring(1)}`).then(e=>i(e.default)).catch(e=>s(e))})}}(t)}),r&&(void 0===a.resolvers&&(a.resolvers={}),a.resolvers.http=i("http"),a.resolvers.https=i("https")),s&&(a.jsonPointer=s),a}n.d(t,{kG:()=>s})}}]);